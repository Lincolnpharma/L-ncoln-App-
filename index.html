<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Pharma Calc</title>
    
    <link rel="manifest" href='data:application/manifest+json,{"name":"Pharma Calc","short_name":"Pharma","start_url":"/pharma-calc/index.html","display":"standalone","background_color":"#ffffff","theme_color":"#2e8b57","icons":[{"src":"https://cdn-icons-png.flaticon.com/512/1000/1000951.png","sizes":"512x512","type":"image/png","purpose":"any maskable"}]}'>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#2e8b57">

    <style>
        body { font-family: sans-serif; background-color: #f0f4f0; padding: 20px; display: flex; justify-content: center; margin: 0; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 100%; max-width: 350px; margin-top: 20px; }
        h2 { color: #2e8b57; text-align: center; }
        label { display: block; margin-top: 15px; font-weight: bold; }
        input, select { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .result-box { margin-top: 20px; padding: 15px; border-radius: 10px; text-align: center; font-size: 1.2em; font-weight: bold; background-color: #d4edda; color: #155724; }
    </style>
</head>
<body>

<div class="card">
    <h2 style="color: #2e8b57; display: flex; align-items: center; justify-content: center; gap: 10px;">
        Pharma Calc <img src="https://cdn-icons-png.flaticon.com/512/1000/1000951.png" width="30">
    </h2>
    
    <label>Médicament :</label>
    <select id="med" oninput="calculer()">
        <option value="500">Paracétamol (Max 500mg)</option>
        <option value="1000">Paracétamol (Max 1000mg)</option>
    </select>

    <label>Poids (kg) :</label>
    <input type="number" id="poids" placeholder="Ex: 50" oninput="calculer()">

    <label>Dose (mg/kg) :</label>
    <input type="number" id="dose" placeholder="Ex: 10" oninput="calculer()">

    <div id="resultat" class="result-box">Dose totale : 0 mg</div>
</div>

<script>
    function calculer() {
        const p = document.getElementById('poids').value;
        const d = document.getElementById('dose').value;
        if(p && d) document.getElementById('resultat').innerHTML = "Dose totale : " + (p * d) + " mg";
    }

    // Enregistrement du Service Worker pour valider l'installation
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js');
    }
</script>
</body>
</html>
